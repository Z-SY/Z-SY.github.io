<!-- build time:Mon Apr 05 2021 00:50:04 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="//cdn.jsdelivr.net/gh/Z-SY/Z-SY.github.io@latest/images/purple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="//cdn.jsdelivr.net/gh/Z-SY/Z-SY.github.io@latest/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="心無旁騖 斷而敢行" href="https://z-sy.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="心無旁騖 斷而敢行" href="https://z-sy.github.io/atom.xml"><link rel="alternate" type="application/json" title="心無旁騖 斷而敢行" href="https://z-sy.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/Z-SY/Z-SY.github.io@latest/css/app.css?v=0.2.5"><meta name="keywords" content="Windows进程操作"><link rel="canonical" href="https://z-sy.github.io/2021/04/05/diary-essay-2021-04-05-%E8%BF%9B%E7%A8%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB/"><title>进程数据的读 - 日常随笔 | Mr. Sun = 心無旁騖 斷而敢行 = 君子如竹，當品性高潔；君心似水，當靜遠流深</title><meta name="generator" content="Hexo 5.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">进程数据的读</h1><div class="meta"><span class="item" title="创建时间：2021-04-05 00:11:50"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-04-05T00:11:50+08:00">2021-04-05</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>1.3k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>1 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Mr. Sun</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicm07ih54j20zk0m84qp.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexbei4hj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/005DzjYJly1goyk6kv71cj31hc0u0wwx.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicm0n457cj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicit4jrvuj20zk0m8785.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/diary-essay/" itemprop="item" rel="index" title="分类于 日常随笔"><span itemprop="name">日常随笔</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://z-sy.github.io/2021/04/05/diary-essay-2021-04-05-%E8%BF%9B%E7%A8%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="//cdn.jsdelivr.net/gh/Z-SY/Z-SY.github.io@latest/images/avatar.png"><meta itemprop="name" content="ysun"><meta itemprop="description" content="君子如竹，當品性高潔；君心似水，當靜遠流深, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="心無旁騖 斷而敢行"></span><div class="body md" itemprop="articleBody"><h1 id="0x00-开篇"><a class="anchor" href="#0x00-开篇">#</a> 0x00 开篇</h1><ul><li><span class="kbd">勉励语 - 志士仁人，无求生以害仁，有杀身以成仁</span></li></ul><h1 id="0x01-万物之始"><a class="anchor" href="#0x01-万物之始">#</a> 0x01 万物之始</h1><ul><li>计算机的世界里，程序所作的不过就是三件事，接收外部数据；格式化数据；输出数据。因此，所谓的外挂的原理总结来说，就是读取目标游戏 / 进程，然后提取出有价值的信息，进行标记或修改，达到对敌优势，例如：解析出 3D 人物的位置，进行辉光标记或外骨骼绘制，就轻易掌握了对手的位置；获取烟雾参数，对透明度 / 遮罩进行修改，就可达到烟雾透视效果；获取自身坐标位置，进行修改，可实现人物传送、闪现等功能；FPS 游戏中，对子弹和自身的健康数值进行锁定和修改，可达到无限子弹 / 锁血等效果。</li></ul><h1 id="0x02-修改类型"><a class="anchor" href="#0x02-修改类型">#</a> 0x02 修改类型</h1><ol><li>外部修改 - 与它所破解的游戏 / 程序不同，在单独的进程中运行的作弊行为</li><li>内部修改 - 可能 hack 了游戏程序，打了补丁，hook 了相关 dll</li></ol><h1 id="0x03-windows的apirpm-readprocessmemory和wpm-writeprocessmemory"><a class="anchor" href="#0x03-windows的apirpm-readprocessmemory和wpm-writeprocessmemory">#</a> 0x03 Windows 的 API：RPM-ReadProcessMemory 和 WPM-WriteProcessMemory</h1><ul><li>RPM-ReadProcessMemory - 用来读取某一进程的数据，根据 MSDN 官网文档简介，参数如下<ol><li>参数 - 1-hProcess：A handle to the process with memory that is being read. The handle must have PROCESS_VM_READ access to the process</li><li>参数 - 2-lpBaseAddress：A pointer to the base address in the specified process from which to read. Before any data transfer occurs, the system verifies that all data in the base address and memory of the specified size is accessible for read access, and if it is not accessible the function fails</li><li>参数 - 3-lpBuffer：A pointer to a buffer that receives the contents from the address space of the specified process</li><li>参数 - 4-nSize：The number of bytes to be read from the specified process</li><li>参数 - 5-*lpNumberOfBytesRead：A pointer to a variable that receives the number of bytes transferred into the specified buffer. If lpNumberOfBytesRead is NULL, the parameter is ignored</li></ol></li></ul><div class="note info"><p>参数 5 一般可根据参数 4 就能判断，且可以为 NULL，所以一般不传，置 NULL</p></div><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre>BOOL WINAPI <span class="token function">ReadProcessMemory</span><span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  _In_  HANDLE  hProcess<span class="token punctuation">,</span> </pre></td></tr><tr><td data-num="3"></td><td><pre>  _In_  LPCVOID lpBaseAddress<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  _Out_ LPVOID  lpBuffer<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  _In_  SIZE_T  nSize<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  _Out_ SIZE_T  <span class="token operator">*</span>lpNumberOfBytesRead</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><div class="tags"><a href="/tags/Windows%E8%BF%9B%E7%A8%8B%E6%93%8D%E4%BD%9C/" rel="tag"><i class="ic i-tag"></i> Windows进程操作</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-04-05 00:43:14" itemprop="dateModified" datetime="2021-04-05T00:43:14+08:00">2021-04-05</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>ysun <i class="ic i-at"><em>@</em></i>心無旁騖 斷而敢行</li><li class="link"><strong>本文链接：</strong> <a href="https://z-sy.github.io/2021/04/05/diary-essay-2021-04-05-%E8%BF%9B%E7%A8%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB/" title="进程数据的读">https://z-sy.github.io/2021/04/05/diary-essay-2021-04-05-进程数据的读/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/04/05/diary-essay-2021-04-05-diary-introduce/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicljgocqbj20zk0m8e81.jpg" title="模块介绍"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 日常随笔</span><h3>模块介绍</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0x00-%E5%BC%80%E7%AF%87"><span class="toc-number">1.</span> <span class="toc-text">0x00 开篇</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x01-%E4%B8%87%E7%89%A9%E4%B9%8B%E5%A7%8B"><span class="toc-number">2.</span> <span class="toc-text">0x01 万物之始</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x02-%E4%BF%AE%E6%94%B9%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">0x02 修改类型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0x03-windows%E7%9A%84apirpm-readprocessmemory%E5%92%8Cwpm-writeprocessmemory"><span class="toc-number">4.</span> <span class="toc-text">0x03 Windows 的 API：RPM-ReadProcessMemory 和 WPM-WriteProcessMemory</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2021/04/05/diary-essay-2021-04-05-diary-introduce/" rel="bookmark" title="模块介绍">模块介绍</a></li><li class="active"><a href="/2021/04/05/diary-essay-2021-04-05-%E8%BF%9B%E7%A8%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%BB/" rel="bookmark" title="进程数据的读">进程数据的读</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ysun" data-src="//cdn.jsdelivr.net/gh/Z-SY/Z-SY.github.io@latest/images/avatar.png"><p class="name" itemprop="name">ysun</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">28</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">12</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1otU1k=" title="https:&#x2F;&#x2F;github.com&#x2F;Z-SY"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95c3Vu" title="https:&#x2F;&#x2F;twitter.com&#x2F;ysun"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9ydXJpc216aw==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;rurismzk"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvcGxheWxpc3Q/aWQ9NTM5NzA0MTAyNw==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;playlist?id&#x3D;5397041027"><i class="ic i-cloud-music"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-heart"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于 算法">算法</a></div><span><a href="/2021/03/28/algorithm-2021-03-28-%E5%85%B3%E9%94%AE%E8%B7%AF%E5%BE%84/" title="关键路径">关键路径</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2020/12/26/FirstBlog/" title="关于本博客">关于本博客</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/binary/" title="分类于 二进制">二进制</a></div><span><a href="/2020/12/30/binary-2020-12-30-0day%E5%AE%89%E5%85%A8%E6%B8%A9%E4%B9%A0-03/" title="0day安全温习-03">0day安全温习-03</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/penetration-test/" title="分类于 渗透测试">渗透测试</a></div><span><a href="/2021/01/05/penetration-test-2021-01-05-nc%E5%91%BD%E4%BB%A4/" title="nc命令">nc命令</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于 算法">算法</a></div><span><a href="/2021/03/30/algorithm-2021-03-30-%E4%BA%8C%E5%8F%89%E6%A0%91/" title="二叉树">二叉树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/penetration-test/" title="分类于 渗透测试">渗透测试</a></div><span><a href="/2021/01/10/penetration-test-2021-01-10-Shodan/" title="Shodan">Shodan</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/binary/" title="分类于 二进制">二进制</a></div><span><a href="/2021/01/11/binary-2021-01-11-0day%E5%AE%89%E5%85%A8%E6%B8%A9%E4%B9%A0-04/" title="0day安全温习-04">0day安全温习-04</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/binary/" title="分类于 二进制">二进制</a></div><span><a href="/2021/01/24/binary-2021-01-24-0day%E5%AE%89%E5%85%A8%E6%B8%A9%E4%B9%A0-06/" title="0day安全温习-06">0day安全温习-06</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/algorithm/" title="分类于 算法">算法</a></div><span><a href="/2021/03/28/algorithm-2021-03-28-%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BF%A1%E5%87%BD%E7%BC%96%E7%A8%8B/" title="格式化信函编程">格式化信函编程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/penetration-test/" title="分类于 渗透测试">渗透测试</a></div><span><a href="/2021/01/03/penetration-test-2021-01-03-penetration-test-introduce/" title="模块介绍">模块介绍</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-mojiezuo rotate"></i> </span><span class="author" itemprop="copyrightHolder">ysun @ Mr. Sun</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">31k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">28 分钟</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/04/05/diary-essay-2021-04-05-进程数据的读/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="//cdn.jsdelivr.net/gh/Z-SY/Z-SY.github.io@latest/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->